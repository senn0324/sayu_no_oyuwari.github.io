<!DOCTYPE html>
<html lang="ja">

<head>
 <meta charset="UTF-8" />
 <link rel="stylesheet" href="sen.css">
 <link rel="canonical" href="https://sayu-no-oyuwari.github.io/">
 <link rel="icon" href="pic/白湯Logo.svg" type="image/svg+xml">
 <title>白湯のお湯割り</title>
 <meta name="og:url" content="https://senn0324.github.io/sayu_no_oyuwari.github.io/">
 <meta name="og:type" content="website">
 <meta name="og:Title" content="白湯のお湯割り">
 <meta name="description" content="APNG/WEBP/SVG等のアニメーション画像作成専門店">
 <meta name="og:image" content="pic/リンクカード.png">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
<!-- GoogleAdSense tag  --> 
<meta name="google-adsense-account" content="ca-pub-3087422915773585">
 
 <!-- 各種フォント -->
 <!-- Yuji Mai -->
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=Yuji+Mai&display=swap" rel="stylesheet">
 
 <!-- RocknRoll One -->
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=RocknRoll+One&display=swap" rel="stylesheet">

 <!-- Hina Mincho --> 
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=Hina+Mincho&display=swap" rel="stylesheet">

 <!-- 禁止系 --> 
 <meta name="bingbot" content="noarchive">
 <meta name="pinterest" content="nopin">
 <meta name="robots" content="noimageai, noai">
 
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JPB44K4WZT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JPB44K4WZT');
</script>

<!-- Google AdSense tag (gtag.js) -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3087422915773585" crossorigin="anonymous">
</script>

</head>

<body>
<!-- header -->
<header>

 <h1 class="headline">
  <a>白湯のお湯割り</a>
 </h1>

 <ul class="nav-list">

  <li class="nav-list-item"><a href="#連絡">連絡</a></li>
  </ul>
  
  
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.1/css/swiper.min.css">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.1/js/swiper.min.js"></script>
  
</header>
  
<!-- サイトの中身部分 -->
<main class="main">

<!-- 作品 -->
<article>


<a href="https://sayu-no-oyuwari.github.io/" target="_blank" class="main-text-Linktext">移転しました。こちらをお願いいたします。</a>



</article>


</main>



<!-- footer -->
<footer class="footer">
 <ul class="footer-text">
  <li><a href="https://senn-shop-no1.booth.pm/" target="_blank">
   <img src="pic/Booth_logo.svg" alt="Booth">
  </a></li>
  <li><a href="https://www.youtube.com/channel/UCPBuc8Uo_9FTNM2nSYMb19A" target="_blank">
   <img src="pic/Youtube_Logo.svg" alt="youtube">
  </a></li>
  <li><a href="https://x.com/Sayu_no_kabe" target="_blank">
   <img src="pic/X_logo.svg" alt="X(Twitter)">
  </a></li>
  <li><a href="https://bsky.app/profile/sayu-no-oyuwari.bsky.social" target="_blank">
   <img src="pic/Bluesky_Logo.svg" alt="BlueSky">
  </a></li>
  <li><a href="https://tsunagu.cloud/products/30473" target="_blank">
   <img src="pic/Mall_Logo.svg" alt="依頼">
  </a></li>
 </ul>
 
</footer>



<script>

// メインのスライダーを初期化
var slider = new Swiper('#slider', {
  nextButton: '.swiper-button-next',  // 次へボタンのセレクタを指定
  prevButton: '.swiper-button-prev'   // 前へボタンのセレクタを指定
});

// サムネイルスライダーを初期化
var thumbs = new Swiper('#thumbs', {
  centeredSlides: true,               // スライドを中央に配置
  spaceBetween: 10,                   // スライド間のスペースを設定
  slidesPerView: "auto",              // 表示されるスライド数を自動調整
  touchRatio: 0.2,                    // スワイプの感度を調整
  slideToClickedSlide: true           // サムネイルクリックでメインスライドに移動
});

// メインスライダーとサムネイルスライダーを同期させる
slider.params.control = thumbs;
thumbs.params.control = slider;



function processImage(action) {
    const fileInput = document.getElementById('imageUpload');
    const file = fileInput.files[0];
    if (!file) {
        alert('画像をアップロードしてください。');
        return;
    }

    const reader = new FileReader();
    reader.onload = function (event) {
        const img = new Image();
        img.onload = function () {
            if (file.type === 'image/jpeg' || file.type === 'image/png') {
                // JPEGまたはPNGの場合、縮小処理を行う
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const maxSize = 2016;
                let width = img.width;
                let height = img.height;

                if (width > height) {
                    if (width > maxSize) {
                        height *= maxSize / width;
                        width = maxSize;
                    }
                } else {
                    if (height > maxSize) {
                        width *= maxSize / height;
                        height = maxSize;
                    }
                }

                canvas.width = width;
                canvas.height = height;
                ctx.drawImage(img, 0, 0, width, height);

                // WebPに変換
                canvas.toBlob(function (blob) {
                    convertToBase64(blob, action, 'image/webp');
                }, 'image/webp');
            } else {
                // それ以外（アニメーション画像など）の場合はそのままbase64エンコード
                convertToBase64(file, action, file.type);
            }
        };
        img.src = event.target.result;
    };
    reader.readAsDataURL(file);
}

function convertToBase64(fileOrBlob, action, mimeType) {
    const reader = new FileReader();
    reader.onloadend = function () {
        const base64data = reader.result.split(',')[1];
        editAndDownloadSVG(base64data, action, mimeType);
    };
    reader.readAsDataURL(fileOrBlob);
}

function editAndDownloadSVG(base64data, action, mimeType) {
    const svgFilePath = `parts/${action}.svg`;

    fetch(svgFilePath)
        .then(response => {
            if (!response.ok) {
                throw new Error('SVGファイルの取得に失敗しました。ステータスコード: ' + response.status);
            }
            return response.text();
        })
        .then(svgContent => {
            // SVGの中身を書き換え (href属性にbase64データを埋め込む)
            const modifiedSVGContent = svgContent.replace(/href="[^"]*"/, `href="data:${mimeType};base64,${base64data}"`);

            const svgBlob = new Blob([modifiedSVGContent], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(svgBlob);

            // 自動的にダウンロードを開始
            const downloadLink = document.createElement('a');
            downloadLink.href = url;
            downloadLink.download = `${action}.svg`;
            downloadLink.click();

            // ダウンロードが完了した後にURLオブジェクトを解放
            URL.revokeObjectURL(url);
        })
        .catch(error => {
            console.error('エラーが発生しました:', error);
            alert('SVGファイルの読み込みまたは編集中にエラーが発生しました。');
        });
}
    </script>

</body>



</html>